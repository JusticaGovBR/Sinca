<?xml version='1.0' encoding='ISO-8859-1' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/templates/template.xhtml">

	<ui:define name="body">

		<h:body>

			<h:outputScript name="locale-primefaces.js" library="js" />

			<style type="text/css">
.aplicar {
	background-image: url("../sinca/resources/imagens/apply.png") !important;
}

.editar {
	background-image: url("../sinca/resources/imagens/icoEnquete.png")
		!important;
}
</style>

			<p:dialog showHeader="false" modal="true"
				widgetVar="carregarDadosInicioDG" draggable="false" closable="false"
				resizable="false" style="padding-top:5px">
				<h:panelGrid columns="1" cellpadding="10"
					style="margin-bottom:20px;text-align:center;">
					<h:outputLabel value="Carregando Requerimento..."
						title="#{consultarProcessoMB.mensagem}"
						style="text-align:center;color:Crimson;font-style:normal;font-size:xx-large;text-decoration:none;font-weight:bolder;" />
					<h:graphicImage library="imagens" name="ajaxloadingbar.gif" />
				</h:panelGrid>
			</p:dialog>

			<h:form id="formP">

				<p:panel id="PnProcesso" header="Requerimento / Interessados"
					style="margin-bottom:10px;width : 100%" toggleable="false"
					rendered="#{manterProcessoMB.processo.idProcesso>0}">

					<h:panelGrid columns="2" cellpadding="10"
						style="margin-bottom:10px;width :100%;">
						<h:panelGrid columns="2" cellpadding="10" style="width :200px;">
							<h:outputLabel value="Número Processo SEI:" />
							<h:outputLabel
								value="#{manterProcessoMB.processo.numProtocoloMj}" />
						</h:panelGrid>

						<h:panelGrid columns="2" cellpadding="10" style="width :180px;">
							<h:outputLabel value="Data Cadastro SEI:" />
							<h:outputLabel
								value="#{manterProcessoMB.processo.dataProtocoloMJ}">
								<f:convertDateTime locale="pt_BR" dateStyle="long"
									pattern="dd/MM/yyyy" />

							</h:outputLabel>
						</h:panelGrid>
					</h:panelGrid>
					<h:panelGrid columns="2" cellpadding="10" style="width :100%;">
						<h:panelGrid columns="2" cellpadding="10" style="width :200px;">
							<h:outputLabel value="Número Requerimento:" />
							<h:outputLabel
								value="#{manterProcessoMB.processo.numProtocoloCa}" />
						</h:panelGrid>

						<h:panelGrid columns="2" cellpadding="10" style="width :180px;">
							<h:outputLabel value="Data Requerimento:" />
							<h:outputLabel
								value="#{manterProcessoMB.processo.dataProtocoloCa}">
								<f:convertDateTime locale="pt_BR" dateStyle="long"
									pattern="dd/MM/yyyy" />

							</h:outputLabel>
						</h:panelGrid>
					</h:panelGrid>

				</p:panel>

				<p:dialog header="Comfirmação!" resizable="false" showEffect="clip"
					hideEffect="clip" style="margin-bottom:20px;"
					widgetVar="dlg_comfirmacao" modal="true" height="100%" width="45%">
					<p:outputPanel id="mtndgperseg">
						<p:outputPanel deferred="true">
							<h3
								style="color: Brown; font-style: normal; font-size: x-large; text-decoration: none; font-weight: bold;">
								Comfirma que os dados inseridos no processo estão corretos?</h3>
						</p:outputPanel>

						<h:panelGrid columns="2" cellpadding="10"
							style="margin-bottom:20px;text-align:center; width : 100%;">
							<p:commandButton value="Salvar" id="bt_incluir_processo"
								style="horizontal-align:center" icon="ui-icon-disk"
								update=":tabView:formProcesso:"
								action="#{manterProcessoMB.salvarProcesso}">
							</p:commandButton>

							<p:commandButton value="Cancelar" id="FecharSalvarDados"
								style="horizontal-align:center" type="button"
								icon="ui-icon-closethick"
								onclick="PF('dlg_comfirmacao').hide();" />
						</h:panelGrid>
					</p:outputPanel>
				</p:dialog>


				<h:panelGrid columns="2" cellpadding="10"
					style="margin-bottom:10px;text-align:center; width : 100%;">
					<p:commandButton id="btnSalvarProcesso" value="Salvar Dados"
						onclick="PF('dlg_comfirmacao').show();" icon="ui-icon-disk"
						title="Salvar Processo" />
				</h:panelGrid>


			</h:form>


			<p:tabView id="tabView" style="width: 100%" effect="scale" >

				<p:tab id="tab_processo" title="Requerimento">
					<ui:insert name="processo">
						<ui:include src="/pages/processo/formularioProcesso.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_interessados" title="Interessados">
					<!-- INTERESSADOS -->
					<ui:insert name="interessados">
						<ui:include src="/pages/processo/formularioInteressados.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_analise_processo" title="Análise">
					<ui:insert name="analise">
						<ui:include src="/pages/analise_processo/manterAnalise.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_julgamento_processo" title="Decisões/Julgamento">
					<ui:insert name="Decisões/Julgamento">
						<ui:include src="/pages/julgamento/formularioJulgamento.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_finalizacoes" title="Finalização">
					<ui:insert name="finalizacao">
						<ui:include src="/pages/finalizacao/formularioFinalizacao.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_arquivo_fisico" title="Arquivo Físico">
					<ui:insert name="Arquivo Físico">
						<ui:include src="/pages/arquivo/formularioArquivo.xhtml" />
					</ui:insert>
				</p:tab>

				<p:tab id="tab_andmentos_sei" title="Andamentos no Sei!">
					<ui:insert name="Andamentos Sei!">
						<iframe id="ifFrameAdamentoSei" src='#{manterProcessoMB.linkDocSel}' height="600" width="970"></iframe> 
					</ui:insert>
				</p:tab>

			</p:tabView>



		</h:body>
	</ui:define>
</ui:composition>